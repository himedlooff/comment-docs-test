<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>comment-docs-test</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <script src="/static/js/main.js"></script>
</head>
<body ng-app="doxrayApp" ng-controller="DocsCtrl" class="body">

    <div class="masthead">
        <ul class="nav" id="nav">
            <li class="nav_item">
                <span class="nav_header">{{ title }}</span>
            </li>
            <li ng-repeat="family in families" class="nav_item">
                <button ng-click="setFamily(family)" class="nav_btn">{{ family }}</button>
            </li>
        </ul>
    </div>

    <div class="main" id="main">
        <!-- Side nav -->
        <!-- <ul class="nav">
            <li ng-repeat="pattern in data | doxrayFamily:currentFamily">
                <button class="btn btn__link">
                    {{ pattern.docs.name }}
                </button>
            </li>
        </ul> -->
        <div ng-repeat="pattern in data | doxrayFamily:currentFamily"
             on-last-repeat
             class="pattern">
            <h1 class="pattern_title">{{ pattern.docs.name }}</h1>
            <div class="pattern_code-toggles">
                <button ng-if="pattern.code_alt"
                        ng-click="toggleLESS( pattern )"
                        class="ng-class:{'btn__grouped-first':pattern.code};
                               btn
                               btn__secondary
                               btn__less">
                    LESS
                </button>
                <button ng-if="pattern.code"
                        ng-click="toggleCSS( pattern )"
                        class="ng-class:{'btn__grouped-last':pattern.code_alt};
                               btn
                               btn__secondary
                               btn__css">
                    CSS
                </button>
            </div>
            <div class="pattern_docs">
                <div ng-repeat="pattern in pattern.docs.patterns" class="pattern_sub-pattern">
                    <h1 ng-if="pattern.name" class="pattern_name">{{ pattern.name }}</h1>
                    <div ng-if="pattern.markup"
                         ng-bind-html="pattern.markup"
                         class="pattern_rendered"></div>
                    <pre ng-if="pattern.markup" class="pattern_markup"><code class="lang-xml">{{ pattern.markup }}</code></pre>
                </div>
            </div>
            <div ng-if="pattern.code || pattern.code_alt"
                 ng-show="pattern.showCSS || pattern.showLESS"
                 class="pattern_code-col">
                <div class="pattern_code-container">
                    <div ng-if="pattern.code"
                         ng-show="pattern.showCSS"
                         class="pattern_code pattern_code__css">
                        <pre><code class="lang-css">{{ pattern.code }}</code></pre>
                    </div>
                    <div ng-if="pattern.code_alt"
                         ng-show="pattern.showLESS"
                         class="pattern_code pattern_code__less">
                        <pre><code class="lang-less">{{ pattern.code_alt }}</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>
